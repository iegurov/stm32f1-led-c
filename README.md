# STM32F1-LCD

Простая библиотека для управления ЖК-дисплеями на базе контроллеров Hitachi (HD44780 и совместимые) для STM32F1.

Библиотека полностью написана на C + CMSIS.

## Возможности

- Поддержка 4-битного режима интерфейса
  
- Вывод символов и строк на экран

- Управление положением курсора

- Создание и вывод пользовательских символов

## Установка

Для полной установки достаточно скопировать репозиторий на компьютер и собрать проект через CMake.

## Зависимости

- CMSIS core (stm32f1xx.h)

- stm32f1-gpio (вспомогательная библиотека для управления пинам)

Все зависимости уже включены в репозиторий.

## Использование 

```cpp
#include "stm32f1_gpio.h"
#include "stm32f1_lcd.h"


#define B12 (Pin){GPIOB, 12} //RS  
#define B13 (Pin){GPIOB, 13} //E

#define A8  (Pin){GPIOA,  8} //D4
#define A9  (Pin){GPIOA,  9} //D5
#define A10 (Pin){GPIOA, 10} //D6
#define A11 (Pin){GPIOA, 11} //D7

int main()
{
    RCC->APB2ENR |= RCC_APB2ENR_IOPAEN;
    RCC->APB2ENR |= RCC_APB2ENR_IOPBEN;
    
    //Пины данных
    Pin dataPins[4] = {A8, A9, A10, A11};   

    //Инициализация дисплея
    lcd_init(B13, B12, dataPins);    

    //Вывод строки на экран
    lcd_print("HELLO WORLD");

    //Установка курсора в начало второй строки
    lcd_cursor(0, 1);

    //Создание пользовательского символа с индексом 0
    uint8_t char0[] = {0x00, 0x04, 0x0e, 0x19, 0x11, 0x0a, 0x04, 0x00};
    lcd_newchar(char0, 0);

    //Вывод пользовательского символа с индексом 0
    printch(0);

    while(1);
    
    return 0;
}

